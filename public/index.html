<!DOCTYPE html>
<html>

<head>
    <title>TaskMaster</title>
</head>

<body>

    <div style="width: 80%;margin:auto;border: 1px solid black; box-shadow: bisque;">main page</div>
    <div style="width: 80%;margin:auto;border: 1px solid black; box-shadow: bisque;"><button
            onclick="GetUsers()">GetUsers</button><button onclick="GetPass()">Get Pass</button><input id="email"
            type="text" placeholder="email" /></div>
    <div id="input" style="width: 80%;margin:auto;border: 1px solid black; box-shadow: bisque;"></div>
    <script>
        async function GetUsers() {
            console.log('getUsers function called');
            const result = await fetch('/api/getAllUsers').then(response => response.json())
            let html = '';
            result.forEach(element => {
                html += '<br>' + element.name + '</br>'

            });
            document.getElementById('input').innerHTML = html;
        }

        async function GetPass() {
            // console.log('getUsers function called');
            const email = document.getElementById('email').value;
            const result = await fetch(`/api/authUser/${email}`).then(response => response.json())

            document.getElementById('input').innerText = result;
        }
    </script>
</body>

</html>